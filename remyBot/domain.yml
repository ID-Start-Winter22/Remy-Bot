version: "3.0"

intents:
  - greet
  - goodbye
  - affirm
  - deny
  - bot_challenge
  - bot_challenge_name
  - my_name_is
  - ask_start_cooking
  - say_rezept_nummer
  - say_user_ingridients
  - say_if_start_cooking
  - out_of_scope
  - deformation
  - rat


actions:
  - action_store_name
  - action_get_name
  - action_start_parser
  - action_select_rezept
  - action_execute_rezept

entities:
  - username
  - user_zutaten_liste
  - user_zeit
  - user_diaet
  - rezept_auswahl
  - rezept_nummer
  - title_liste
  - title_liste_1
  - title_liste_2
  - title_liste_3
  - link_list
  - final_url

  

slots:
  username:
    type: text
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: username
  user_zutaten_liste:
    type: list
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: user_zutaten_liste
      conditions:
      - active_loop: schritt1_form
  user_zeit:
    type: text
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: user_zeit
      conditions:
      - active_loop: schritt1_form
  user_diaet:
    type: text
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: user_diaet
      conditions:
      - active_loop: schritt1_form
  rezept_auswahl:
    type: list
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: rezept_auswahl
      conditions:
      - active_loop: schritt1_form
  title_liste:
    type: list
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: title_liste
      conditions:
      - active_loop: schritt1_form    
  title_liste_1:
    type: list
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: title_liste_1
      conditions:
      - active_loop: schritt1_form    
  title_liste_2:
    type: list
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: title_liste_2
      conditions:
      - active_loop: schritt1_form    
  title_liste_3:
    type: list
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: title_liste_3
      conditions:
      - active_loop: schritt1_form    
  link_list:
    type: list
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: link_list
      conditions:
      - active_loop: schritt1_form    
  rezept_nummer:
    type: text
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: rezept_nummer
      conditions:
      - active_loop: schritt2_form
  final_url:
    type: text
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: final_url
      conditions:
      - active_loop: schritt2_form
 

forms:
  schritt1_form:
    required_slots:
    - user_zutaten_liste
    - user_zeit
    - user_diaet


  schritt2_form:
    required_slots:
    - rezept_nummer

  schritt3_form:
    required_slots:
    - final_url

  

responses:
  utter_greet:
  - text: "Salut mec"
  - text: "Comment Ã§a va ?"
  - text: "Ã‡a roule ?"
  - text: "Ã‡a biche ?"
  - text: "Coucou !"
  - text: "Salut! "

  utter_did_that_help:
  - text: "Hilft das?"

  utter_goodbye:
  - text: "Bye"

  utter_iamabot:
  - text: "Ich bin ein Chatbot, powered by Rasa."

  utter_greet_ask_name:
  - text: "Salut mec! Wie heiÃŸt du?"
  - text: "Comment Ã§a va? Was isd dein Name"
  - text: "Ã‡a roule? Wie 'eiÃŸt du?"
  - text: "Ã‡a biche? Stell dich doch mal vor"
  - text: "Coucou! Je m'appelle Remy! Und du?"
  - text: "Salut! Qua is dein Name "

  utter_greet_with_name:
  - text: "EnchantÃ©, {username}. Isch bin RÃ©my dein persÃ¶nlciher kÃ¼chen Assistent!\nWie kann ich dir heute be'ilflisch sein?"
  
  utter_alternative':
  - text: "EnchantÃ©, {username}. Kann isch etwas anderes fÃ¼r disch tun, mon ami?"

  utter_user_ingridients:
  - text: "Ich habe diese rezepte gefunden"

  utter_ask_user_zutaten_liste:
  - text: "Ohhh! C'est bon!\nWelche IngrÃ©dients 'ast du?"
  - text: "Je suis surexcitÃ©!\nWas 'ast du in deine Frigo?"

  utter_ask_user_zeit:
  - text: "Wie viel zeit 'ast du?"
    buttons:
    - title: "15min"
      payload: '/say_user_ingridients{{"user_zeit":"15"}}'
    - title: "30min"
      payload: '/say_user_ingridients{{"user_zeit":"30"}}'
    - title: "60min"
      payload: '/say_user_ingridients{{"user_zeit":"60"}}'
    - title: "120min"
      payload: '/say_user_ingridients{{"user_zeit":"120"}}'

  utter_ask_user_diaet:
  - text: "Wie kochst du am liebsten?"
    buttons:
    - title: "ðŸ¥¬ Vegan"
      payload: '/say_user_ingridients{{"user_diaet":"Vegan-"}}'
    - title: "ðŸ§€ Vegetarisch"
      payload: '/say_user_ingridients{{"user_diaet":"Vegetarisch-"}}'
    - title: "ðŸ¥© Fleisch"
      payload: '/say_user_ingridients{{"user_diaet":""}}'

  utter_ask_for_rezept_nummer:
  - text: Welches Rezept mÃ¶chtest du kochen?
    buttons:
    - title: "{title_liste_1}"
      payload: '/say_rezept_nummer{{"rezept_nummer":"1"}}'
    - title: "{title_liste_2}"
      payload: '/say_rezept_nummer{{"rezept_nummer":"2"}}'
    - title: "{title_liste_3}"
      payload: '/say_rezept_nummer{{"rezept_nummer":"3"}}'

  

  utter_lets_cook:
  - text: "Tres bien lass uns kochen!"
    image: "https://media.giphy.com/media/3wb47Zh5DQIXm/giphy.gif"

  
  utter_ask_start_cooking:
  - text: 'mÃ¶chtest du anfangen zu kochen?'
    buttons:
    - title: "OuÃ­"
      payload: '/say_if_start_cooking'
    - title: "No"
      payload: '/utter_alternative'


  utter_out_of_scope:
  - text: "Pardon, da bin ich Ã¼berfragt. Ich bin noch ein Koch in Ausbildung. 
  Aber schreib mir gerne welche Zutaten du da hast und ich helfe dir daraus etwas leckeres zu kochen.ðŸ¥˜"

  utter_deformation:
  - text: "Excuse moi?! Hat deine Maman dir den nichts beigebracht"

  utter_rat:
  - text: >
          "Das ist korrekt ich bin eine Ratte"
          "Hier kannst du etwas mehr Ã¼ber meine Artgenossen lernen:"
          "https://de.wikipedia.org/wiki/Ratten"




session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true
